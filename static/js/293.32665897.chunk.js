"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[293],{293:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(885),c=t(791),a=t(501),i=t(871),s=t(221),o=t(725),u=t(718),h=t(184),p=function(e){var r=e.movie,t=r.poster_path,n=r.title,a=r.release_date,i=r.vote_average,s=r.overview,o=r.genres;return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:t?(0,h.jsx)("img",{width:"270",src:"".concat("https://image.tmdb.org/t/p/original/").concat(t.slice(1)),alt:n}):(0,h.jsx)("h1",{children:"This film has no Poster"})}),(0,h.jsx)("h2",{children:"".concat(n," (").concat(null===a||void 0===a?void 0:a.split("-")[0],")")}),(0,h.jsxs)("p",{children:["UserScore: ",(0,h.jsx)("span",{children:"".concat(Math.floor(10*i),"%")})]}),s&&(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("h2",{children:"Overview"}),(0,h.jsx)("p",{children:s})]}),(0,h.jsx)("h2",{children:"Genres"}),(0,h.jsx)("ul",{children:null===o||void 0===o?void 0:o.map((function(e){var r=e.id,t=e.name;return(0,h.jsx)("li",{children:t},r)}))})]})},f=function(){var e,r=(0,c.useState)({}),t=(0,n.Z)(r,2),f=t[0],l=t[1],v=(0,c.useState)(!1),d=(0,n.Z)(v,2),x=d[0],j=d[1],m=(0,i.s0)(),b=(0,i.TH)(),k=(0,i.UO)().movieId,y=null===(e=b.state)||void 0===e?void 0:e.from,w=o.Z.cast,g=o.Z.reviews;return(0,c.useEffect)((function(){j(!0),s.ZP.fetchMovieDetails(k).then(l).catch(console.error).finally((function(){return j(!1)}))}),[k]),(0,h.jsxs)("main",{children:[y&&(0,h.jsx)("button",{type:"button",onClick:function(){return m(y)},children:"Go back"}),(0,h.jsx)("hr",{}),x?(0,h.jsx)(u.Z,{}):(0,h.jsx)(p,{movie:f}),(0,h.jsx)("hr",{}),(0,h.jsx)(a.rU,{to:w,state:{from:y},children:"Credits"}),(0,h.jsx)("br",{}),(0,h.jsx)(a.rU,{to:g,state:{from:y},children:"Reviews"}),(0,h.jsx)("hr",{}),(0,h.jsx)(c.Suspense,{fallback:(0,h.jsx)(u.Z,{}),children:(0,h.jsx)(i.j3,{})})]})}},221:function(e,r,t){var n=t(861),c=t(757),a=t.n(c),i="a5de4dd52c0a146855f7375f14408b0e",s="https://api.themoviedb.org/3/",o=function(){return"".concat(s,"trending/all/day?api_key=").concat(i)},u=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(e,"&page=").concat(r)},h=function(e){return"".concat(s,"movie/").concat(e,"?api_key=").concat(i)},p=function(e){return"".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i)},f=function(e){return"".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i)};function l(){return(l=(0,n.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o());case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject("Fetch Trending Movies Error: "+r.status));case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return v=(0,n.Z)(a().mark((function e(r){var t,n,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>1&&void 0!==c[1]?c[1]:1,r){e.next=3;break}return e.abrupt("return",Promise.reject("Fetch By Query: cannot make an empty query"));case 3:return e.next=5,fetch(u(r,t));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",Promise.reject("Fetch By Query Error: "+n.status));case 8:return e.abrupt("return",n.json());case 9:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function d(){return(d=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.reject("Fetch Movie Details: cannot query by this id "+r));case 2:return e.next=4,fetch(h(r));case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject("Fetch Movie Details: error: "+t.status));case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.reject("Fetch Movie Credits: cannot query by this id "+r));case 2:return e.next=4,fetch(p(r));case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject("Fetch Movie Credits: error: "+t.status));case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.reject("Fetch Movie Reviews: cannot query by this id "+r));case 2:return e.next=4,fetch(f(r));case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject("Fetch Movie Reviews: error: "+t.status));case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m={fetchTrending:function(){return l.apply(this,arguments)},fetchByQuery:function(e){return v.apply(this,arguments)},fetchMovieDetails:function(e){return d.apply(this,arguments)},fetchMovieCredits:function(e){return x.apply(this,arguments)},fetchMovieReviews:function(e){return j.apply(this,arguments)}};r.ZP=m}}]);
//# sourceMappingURL=293.32665897.chunk.js.map