"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[736],{736:function(e,r,t){t.r(r);var n=t(885),c=t(791),a=t(871),u=t(221),i=t(718),s=t(184);r.default=function(){var e=(0,c.useState)(null),r=(0,n.Z)(e,2),t=r[0],o=r[1],f=(0,c.useState)(!1),p=(0,n.Z)(f,2),h=p[0],v=p[1],l=(0,a.UO)().movieId;return(0,c.useEffect)((function(){v(!0),u.ZP.fetchMovieReviews(l).then((function(e){var r=e.results;return o(r)})).catch(console.error).finally((function(){return v(!1)}))}),[l]),(0,s.jsxs)("section",{children:[h&&(0,s.jsx)(i.Z,{}),t&&!(null!==t&&void 0!==t&&t.length)&&(0,s.jsx)("h3",{children:"This film has no reviews"}),(0,s.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){var r=e.author,t=e.content,n=e.id;return(0,s.jsxs)("li",{children:[(0,s.jsxs)("h3",{children:["Author: ",(0,s.jsx)("span",{children:r})]}),(0,s.jsx)("p",{children:t})]},n)}))})]})}},221:function(e,r,t){var n=t(861),c=t(757),a=t.n(c),u="a5de4dd52c0a146855f7375f14408b0e",i="https://api.themoviedb.org/3/",s=function(){return"".concat(i,"trending/all/day?api_key=").concat(u)},o=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(i,"search/movie?api_key=").concat(u,"&query=").concat(e,"&page=").concat(r)},f=function(e){return"".concat(i,"movie/").concat(e,"?api_key=").concat(u)},p=function(e){return"".concat(i,"movie/").concat(e,"/credits?api_key=").concat(u)},h=function(e){return"".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(u)};function v(){return(v=(0,n.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s());case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject("Fetch Trending Movies Error: "+r.status));case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return l=(0,n.Z)(a().mark((function e(r){var t,n,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>1&&void 0!==c[1]?c[1]:1,r){e.next=3;break}return e.abrupt("return",Promise.reject("Fetch By Query: cannot make an empty query"));case 3:return e.next=5,fetch(o(r,t));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",Promise.reject("Fetch By Query Error: "+n.status));case 8:return e.abrupt("return",n.json());case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(){return(d=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.reject("Fetch Movie Details: cannot query by this id "+r));case 2:return e.next=4,fetch(f(r));case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject("Fetch Movie Details: error: "+t.status));case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.reject("Fetch Movie Credits: cannot query by this id "+r));case 2:return e.next=4,fetch(p(r));case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject("Fetch Movie Credits: error: "+t.status));case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.reject("Fetch Movie Reviews: cannot query by this id "+r));case 2:return e.next=4,fetch(h(r));case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject("Fetch Movie Reviews: error: "+t.status));case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b={fetchTrending:function(){return v.apply(this,arguments)},fetchByQuery:function(e){return l.apply(this,arguments)},fetchMovieDetails:function(e){return d.apply(this,arguments)},fetchMovieCredits:function(e){return y.apply(this,arguments)},fetchMovieReviews:function(e){return k.apply(this,arguments)}};r.ZP=b}}]);
//# sourceMappingURL=736.970b1ca5.chunk.js.map